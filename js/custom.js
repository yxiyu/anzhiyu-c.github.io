function owoBig(){let e=1,t="",n=document.createElement("div");n.id="owo-big";let o=document.querySelector("body");o.appendChild(n),document.getElementById("post-comment").addEventListener("DOMNodeInserted",(d=>{if(d.target.classList&&(d.target.classList.value,1)){let i=d.target;i.addEventListener("contextmenu",(e=>e.preventDefault())),i.addEventListener("mouseover",(d=>{"IMG"==d.target.tagName&&e&&(e=0,t=setTimeout((()=>{let e=3*d.path[0].clientHeight,t=3*d.path[0].clientWidth,i=d.x-d.offsetX-(t-d.path[0].clientWidth)/2;i+t>o.clientWidth&&(i-=i+t-o.clientWidth+10),i<0&&(i=10);let c=d.y-d.offsetY;n.style.height=e+"px",n.style.width=t+"px",n.style.left=i+"px",n.style.top=c+"px",n.style.display="flex",n.innerHTML=`<img src="${d.target.src}">`}),300))})),i.addEventListener("mouseout",(o=>{n.style.display="none",e=1,clearTimeout(t)}))}}))}function percent(){let e=document.documentElement.scrollTop||window.pageYOffset,t=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)-document.documentElement.clientHeight,n=Math.round(e/t*100),o=document.querySelector("#percent");n<=99||(n=99),r=window.scrollY+document.documentElement.clientHeight,p=document.getElementById("post-comment")||document.getElementById("footer"),p.offsetTop+p.offsetHeight/2<r||90<n?(document.querySelector("#nav-totop").classList.add("long"),o.innerHTML="返回顶部"):(document.querySelector("#nav-totop").classList.remove("long"),o.innerHTML=n)}function totraveling(){btf.snackbarShow("即将跳转到「开往」项目的成员博客，不保证跳转网站的安全性和可用性",!1,5e3),setTimeout((function(){window.open("https://travellings.link/")}),"5000")}document.getElementById("post-comment")&&owoBig(),window.onscroll=percent,document.getElementById("page-name").innerText=document.title.split(" | 安知鱼")[0],window.onkeydown=function(e){123===e.keyCode&&btf.snackbarShow("开发者模式已打开，请遵循GPL协议",!1)};var anzhiyu={showLoading:function(){document.querySelector("#loading-box").classList.remove("loaded")},hideLoading:function(){document.querySelector("#loading-box").classList.add("loaded")}};document.addEventListener("pjax:send",(function(){anzhiyu.showLoading})),document.addEventListener("pjax:complete",(function(){anzhiyu.hideLoading(),initCommentBarrage()}));